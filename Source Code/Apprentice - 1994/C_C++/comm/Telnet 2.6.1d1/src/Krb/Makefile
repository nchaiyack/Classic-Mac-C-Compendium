#
# Rick Watson
# The University of Texas at Austin
# Networking Services
# r.watson@utexas.edu
#
# 9/29/93
#

#
# This makefile is only for source maintenance functions.
#

SRCS= Х
	:desproto.h Х
	:enc_des.c Х
	:encrypt.c Х
	:encrypt.h Х
	:glue.h Х
	:kerberos.c Х
	:KrbDriver.h Х
	:Makefile Х
	:des_cornell.c Х
	:kerberos.h 

#
# orphans
#
orphans ─
	for i in {SRCS}
		Echo "Delete 'ckid';" | Rez -a -m -o "{i}"
	end

#
# newversion
#
versionNumber= 11.0
checkopts= -y -m -t "V{versionNumber}"

newversion ─
	for i in {SRCS}
		if "{i}" =~ /(?*:)е1(?+)е2/ # break into path(1) and filename(2)
			if "{е1}" == ":"
				set pjct "krb"
			else
				echo "Error in {е1}"
			end
			echo checkin {checkopts} -project "{pjct}" "{i},{versionNumber}" ии Dev:StdOut
			checkin {checkopts} -project "{pjct}" "{i},{versionNumber}" ии Dev:StdOut
		end
	end  │ Dev:Null # cmd output is pitched
	
#
# diffs
#
diffBase= 9.0

diffs ─
	set echo 0
	export echo
	for i in {SRCS}
		rcsdiff -r {diffBase} {i} >> telnet.diffs ии Dev:StdOut
	end │ Dev:Null # cmd output is pitched
