#	UserStartup¥cpsset exit 1#	Create the Directory menu	DirectoryMenu `Directory`#	Create the Build Menu#	BuildMenu#- UNIX m.v. --------------------------------------------------------------	Alias f files	Alias ls files -m 3	Alias ll files -l	Alias lf files -f	Alias lr files -f -s -r	Alias lrd 'files -f -d -r -o'	Alias rm Delete	Alias mv Move	Alias mkdir NewFolder	Alias cd directory	Alias pwd directory	Alias cat catenate	Alias cp Duplicate	# clever stuff	Alias o open	Alias op 'open -r' # read only	Alias ot 'open {target}'	Alias ocps 'open {mpw}UserStartup¥cps'	Alias parm Parameters	Alias gfn GetFilename	Alias gdn GetFilename -d	Alias bp BuildProgram	Alias ev evaluate	Alias see 'StreamEdit -d -e '	Alias tr Translate	Alias trlfcr 'tr ¶
 ¶n'	Alias s search	Alias ss search -s	Alias e echo	Alias et 'quote "{{target}}"'	Alias touch setfile -m .	Alias touchqFinal ¶			'touch "{WorkSheet}" `s qFinal -s -ns Å.rs* Å.h Å.cp | see '¶''/File ¶"([a-zA-Z.]+)¨1¶"/ pr ¨1'¶'¶`	Alias antitouch setfile -m '01/01/92'	Alias pr print -dialog -font Courier -md -size 9 -h	Alias pr2 pr -c 2	Alias RezEqual ResEqual	Alias gerr GetErrorText	Alias cas 'close -a -y'	Alias MAHelp 'help -f {MacApp}MacApp.help'	Alias PGet 'get HD2:MPW:perl:PerlHelp'	Alias man help	Alias ex execute	Alias shutdown 'set IsShuttingDown 1;quit'	Alias restart 'SendAE -m 1 -e FNDRrest -t Finder'	Alias shutup restart		Alias re 'HD2:Programmer:ResEdit:ResEdit'	Alias pm "{SystemFolder}Udvidelser:Skrivestyring"#- variabler -------------------------------------------------------------		set LF					'
'										; export LF		set Scripts			{mpw}scripts:					; export Scripts	set MyScripts		{mpw}MyScripts:				; export MyScripts	set Tools				{mpw}tools:						; export Tools	set MyTools			{mpw}MyTools:					; export MyTools	set kilde				HD2:kilde:						; export kilde	set MyTS				{kilde}MyToolSource:	; export MyTS	set obj					{mpw}obj:							; export obj	set NewWindowRect 2,3,750,530					; export NewWindowRect	set df					{boot}DesktopÊFolder: ; export df	set df2					HD2:DesktopÊFolder:		; export df2	set dfr					HD2:DesktopÊFolder:		; export dfr	set eu					HD2:Diverse:EudoraÊFolder: ; export eu	set TSF					{mpw}ToolServer:			; export TSF	set ToolServer	{TSF}ToolServer				; export ToolServer	set Commands		"{Commands},{MyScripts},{MyTools}" ; export Commands	set IsMiniEnviroment "`IsModifierKeyDown -command`" ; export IsMiniEnviroment	if {IsMiniEnviroment}		if "`IsModifierKeyDown -control`"			exit		end	end#- diverse ---------------------------------------------------------------	set WordSet "{WordSet}¶.¾¿Œ®¯" ;	export WordSet	set Tab 2 ; export Tab	set PrintOptions '-dialog -h -f Courier -s 10 -md' ; export PrintOptions#	if "`PrinterDriverName`" == "StyleWriter"#		set PrintOptions "{PrintOptions} -r" # reverse#	end	set HasRamDisk 0							; export HasRamDisk	set RamDisk ''								; export RamDisk	if "`exists ram-disk:`" != ""		set RamDisk RAM-Disk:		set HasRamDisk 1	else if "`exists RD:`" != ""		set RamDisk RD:		set HasRamDisk 1	end		if {HasRamDisk}		set dfr {RamDisk}DesktopÊFolder:	; export dfr		set RamKilde {RamDisk}RamKilde:		; export RamKilde		setfile -d '1/1/93' {RamDisk}		set TmpDir {RamDisk}Temp:			; export TmpDir		Set TempFolder {RamDisk}'Temporary Items:'; export TempFolder # predefined		set dfr {RamDisk}DesktopÊFolder:	else		set TmpDir ""		for disk in `volumes`			if "{{disk}}" =~ /HD2:/ ¶			|| "{{disk}}" =~ /Å[¶'¶"¶t¶ ¶?¶*¶+¶=¶Å¶`¶«]Å/				continue			end			set TmpDir "{{disk}}Temp:"; export TempDir			break		end		if !"{TmpDir}"			set TmpDir {Obj}; export TmpDir		end		echo "Using {TmpDir} as folder for temporary items" ·· {Worksheet}	end	set TmpTools {TmpDir}TmpTools:		; export TmpTools	set exit 0	mkdir {TmpDir} ·· dev:null	mkdir {TmpTools} ·· dev:null	if "{RamKilde}"		mkdir {RamKilde} ·· dev:null	end	set exit 1	set CPlusScratch {TmpDir}	export CPlusScratch	set Commands		"{Commands},{TmpTools},{TS},{df}"	set tmp "{TmpDir}tmp" 	; export tmp	set tmp1 "{tmp}"		; export tmp1	set tmp2 "{TmpDir}tmp2"	; export tmp2	set tmp3 "{TmpDir}tmp3"	; export tmp3	set tmp4 "{TmpDir}tmp4"	; export tmp4	set tmp5 "{TmpDir}tmp5"	; export tmp5	set tmp6 "{TmpDir}tmp6"	; export tmp6	set tmp7 "{TmpDir}tmp7"	; export tmp7	set tmp8 "{TmpDir}tmp8"	; export tmp8	set tmp9 "{TmpDir}tmp9"	; export tmp9	Alias otmp	'open {tmp}'	Alias otmp2	'open {tmp2}'	Alias otmp3	'open {tmp3}'	Alias otmp4	'open {tmp4}'		set Font Ocanom ; export font#- ram disk -----------------------------------------------------------------if {HasRamDisk} && !{IsMiniEnviroment}	for f in Scripts Libraries CLibraries PLibraries		echo 'set exit 0'		echo 'backup -r -a -c -from "{{'{f}'}}" -to {TmpDir}'{f}:' > {tmp2}'		echo 'set exit 1'		echo '{tmp2}'		echo 'set '{f}' {TmpDir}'{f}: 	end > {tmp}	execute {tmp}	set RamTools {TmpDir}RamTools: ; export RamTools	set exit 0	mkdir {RamTools} ·· dev:null	set exit 1	cp -n {Tools}Link {Tools}Make {Tools}Rez ¶				{Tools}Search {Tools}Sort {Tools}Translate ¶				{Tools}StreamEdit {Tools}Backup ¶				{Tools}C {Tools}CFront ¶				{RamTools}	set Commands		"{RamTools},{Commands}"end#- ToolServer ---------------------------------------------------------------	Set WhichToolServer '-b'	# ToolServer on local machine	export WhichToolServer	set ToolServerWindow 	  "{tmpdir}ToolServer.output"; export ToolServerWindow	set ToolServerRedirection "· {ToolServerWindow}"; export ToolServerRedirection	Alias utse UpdateToolServerEnv	Alias obgo 'open {ToolServerWindow}'#- Directory menu -----------------------------------------------------------------	DirectoryMenu `(Files -d -i "{MPW}"Examples:Å || Set Status 0) ³ Dev:Null` ¶		`Directory`			#- tools menu -----------------------------------------------------------------	set exit 0	DeleteMenu tools ·· dev:null # rebuild menu from scratch	set exit 1	AddMenu tools 'Set LaTeX keys' 'ex LaTeX_setkeys'	AddMenu tools 'edit LaTeX_setkeys' 'open {myscripts}LaTeX_setkeys'	AddMenu tools 'ChooseMyX/É' 'ChooseMyX'	AddMenu tools 'cd active-dir'   ¶		'(evaluate "{active}" =~ /(([Â:]+¶:)+)¨1Å/ ) ·· dev:null ;¶		cd "{¨1}" ·· dev:null || beep ;¶		'	AddMenu tools 'cd target-dir'   ¶		'(evaluate "{target}" =~ /(([Â:]+¶:)+)¨1Å/ ) ·· dev:null ;¶		cd "{¨1}" ·· dev:null || beep ;¶		'	AddMenu tools 'UpdateToolServerEnv' 'UpdateToolServerEnv'	AddMenu tools 'Make_Source_Backup' 'ex Make_Source_Backup'	AddMenu tools 'zoom {active}/½' 'zoomwindow "{active}"'	AddMenu tools 'anti touch {active}' 'save_all;antitouch "{active}"'	AddMenu tools 'count ¤' 'alert -s `count "{active}".¤`'	AddMenu tools 'Compare to Nuntius file' ¶		'¶		if `evaluate "{active}" =~ /(Å:)Ç0,1È([Â:]+)¨1/ ` ;¶			MyCompareFiles {K_Nuntius}{¨1} "{active}"	;¶		end ·· {WorkSheet}				;¶		'	AddMenu tools 'Set TS Env' 'UpdateToolServerEnv'	AddMenu tools 'V¾lg segment' 'ss -q segment Å.cp| sort -unique | GetListItem -quote -single -message "Liste af segmenter" -cancel ·· "{active}".¤'	AddMenu tools 'DumpLastObj' DumpLastObj	AddMenu tools '-(' ''	AddMenu tools 'Save all and RamDisk/§' save_all	AddMenu tools 'Save and close/E' 'close -y "{{active}}" ·· {worksheet}'	AddMenu tools 'WorkSheet/1'	'open "{workSheet}" · dev:null'	AddMenu tools 'Target/2'		'open "{target}" · dev:null || beep'	AddMenu tools 'Open .h or .cp/3' ¶ 		'¶		if `evaluate "{active}" =~ /(Å)¨1¶.(([CPHcph])+)¨2/` ;¶			if "{¨2}" =~ /[hH]/				;¶				open "{¨1}.cp" || open "{¨1}.c" || open "{¨1}.cpp"; ¶				if {status}; beep; else; SaveOnClose -a {active}; end; ¶			else											;¶				open "{¨1}.h"						;¶				if {status}; beep; else; SaveOnClose -a {active}; end; ¶			end												;¶		else												;¶			beep 1										;¶		end	·· dev:null							;¶		'	Setkey Option-Command-3 ¶		'¶		if `evaluate "{active}" =~ /(Å:)Ç0,1È([Â:]+)¨1/ ` ;¶			open {K_Nuntius}{¨1} || beep	;¶		end ·· dev:null							;¶		'	AddMenu tools 'Open MacApp UÅ.h/4' ¶		'open "{MACPlusIncludes}U"`request -q "Name of UÅ.h:"`.h ·· dev:null || beep'	AddMenu tools 'Open MacApp UÅ.cp/5' ¶		'open "{OldMALibraries}U"`request -q "Name of UÅ.cp:"`.cp ·· dev:null || beep'		AddMenu tools 'Open {OS++}Å.h/6' ¶		'open "{CPlusIncludes}"`request -q "Name of {OS++}Å.h:"`.h ·· dev:null || beep'	AddMenu tools 'Open {OS}Å.h/ª' ¶		'open "{CIncludes}"`request -q "Name of {OS}Å.h:"`.h ·· dev:null || beep'			AddMenu tools 'Choose from {MyScripts} #/7' 'f {myscripts}| GetListItem | tr ¶n ' ''		AddMenu tools 'Toggle invisible/8' ¶		'	if `format -x a "{active}"` == Ail		;¶				format -a AIl "{active}"						;¶			else																	;¶				format -a Ail "{active}"						;¶			end																		;¶		'	AddMenu tools 'FlushVols/9' 'FlushVols'	AddMenu tools 'Open Å/+' ¶		'¶		set open_name "`request "Name of Å:"`";	¶		if "{open_name}";												¶			open {open_name} ·· dev:null;					¶			if {status}; beep; else; SaveOnClose -a "{open_name}" ·· dev:null; end; ¶		end ¶		'	AddMenu tools 'mark ¤ ¤/µ' 'mark ¤ "`cat "{active}".¤`" "{active}"'	AddMenu tools '-' ''	AddMenu tools 'ReCPlus/0' 'open "{WorkSheet}";ReCompile ·· "{WorkSheet}";if {status};{MAFailed};else;{MADone};end;'	AddMenu tools 'Generic ReCPlus/­' ¶	' open {worksheet};' ¶	'if "{target}" =~ /Å¶:([a-zA-Z_]+.cp)¨1/;' ¶	'  echo "Compiling: {¨1}"; ' ¶	"  streamedit -e '/¶:[a-zA-Z_]+.cp/ replace -c ° /¶:[a-zA-Z_]+.cp/ ¶":'¶{¨1¶}'¶"' < ¶{myscripts¶}recplus > ¶{tmp¶};" ¶	'  {tmp};' ¶	'else;' ¶	'  beep;' ¶	'end ·· {worksheet};'	AddMenu tools 'Print2 ¤/¹' 'pr2 "{{active}}".¤'	AddMenu tools '-(' ''	AddMenu tools 'quit/Q' 'confirm "Quitte?" && quit'		AddMenu tools 'Copyright statement/©' 'echo -n "// Copyright © 1993 Peter Speck (speck@dat.ruc.dk).  All rights reserved.¶n// "'	AddMenu tools 'Go HD2 MALibs' 'Set maloadfiles HD2:MPW:Load_Files:;Set malibraries HD2:MPW:MacApp3.0.1:Libraries:'	AddMenu tools 'Use Symantext C++' '`ModifyMABuildDefaults -NoSymantec -Symantec`;CopyMacAppLibs DebugSC'	AddMenu tools 'Use CFront' '`ModifyMABuildDefaults -Symantec -NoSymantec`;CopyMacAppLibs Debug'# otker keys:	setkey Home							MoveStartOfLine	setkey End							MoveEndOfLine	setkey Shift-Home					SelectStartOfLine 	setkey Shift-End					SelectEndOfLine 	setkey Command-Home					MoveStartOfFile	setkey Command-End					MoveEndOfFile	setkey Help       					Beep	setkey Command-Shift-s			'save -a'		setkey Command-Option-r			'open RsrcGlobals.h;SaveOnClose -a RsrcGlobals.h'	setkey Command-Option-e			'open Strings.r;SaveOnClose -a Strings.r'	setkey Command-Option-t			'open Errors.r;SaveOnClose -a Errors.r;open ErrorGlobals.h;SaveOnClose -a ErrorGlobals.h'	setkey Command-Control-n		'cd {K_Nuntius}'	setkey Command-Control-s		'cd {K_Skoda}'	setkey Command-Control-b		'cd {K_Boghus}'	setkey Command-Control-e		'cd {K_Easy}'	setkey Command-Control-i		'cd {K_Eis}'	setkey Command-Control-p		'cd {K_PrnCtl}'	setkey control-i				'cat {myts}FailInfoTemplate >> "{active}.¤"; find (Æ¤:!2:/Å/)Æ "{active}"'	setkey control-r 				'¶		set class_name "`request "Name of class:"`";	¶		if "{class_name}";												¶			StreamEdit -e "/XXXX/ Replace /XXXX/ ¶"{class_name}¶" -c °" < {myts}StreamReadTemplate >> "{active}".¤; ¶			find Æ¤:!2 "{active}"; ¶		end; ¶	' # end	setkey control-option-r			DoRead2DoWrite	setkey control-f1 'open {tmp}  ³ dev:null || new {tmp} '	setkey control-f2 'open {tmp2} ³ dev:null || new {tmp2}'	setkey control-f3 'open {tmp3} ³ dev:null || new {tmp3}'	setkey control-f4 'open {tmp4} ³ dev:null || new {tmp4}'	setkey control-f5 'open {tmp5} ³ dev:null || new {tmp5}'	setkey control-f6 'open {tmp6} ³ dev:null || new {tmp6}'	setkey control-f7 'open {tmp7} ³ dev:null || new {tmp7}'	setkey control-f8 'open {tmp8} ³ dev:null || new {tmp8}'	setkey control-f9 'open {tmp9} ³ dev:null || new {tmp9}'		set server_disk1 Tintin: ; export server_disk1	alias mount_server_disk1 'choose -pw "infsys" -u "Brunhilde"  "*:Osvald:{server_disk1}"'	alias unmount_server_disk1 'unmount {server_disk1}'	set eis_folder "{server_disk1}InformationsSystemet:"; export eis_folder	setkey control-option-command-f5 'if "`exists {server_disk1}`";unmount {server_disk1};else;mount_server_disk1;end;'	setkey shift-F15 'open History'	setkey F15       NewHistoryEntry	setkey control-F15 'open to_do'	ex UpdateSourceMenu#- Projector -------------------------------------------------------------#	Create the Project menu#	AddMenu tools '-(' ''#	AddMenu tools 'Check InÉ' 'CheckIn -w ³³ "{WorkSheet}"'#	AddMenu tools 'Check OutÉ' 'CheckOut -w ³³ "{WorkSheet}"'# 	AddMenu tools "(-" ""#	AddMenu tools 'New ProjectÉ' 'NewProject -w ³³ "{WorkSheet}"'#	AddMenu tools 'Mount ProjectÉ' 'MountProjectÉ ·· "{WorkSheet}"'#	AddMenu tools 'Set ProjectÉ' ¶#		'(project "`getListItem -r 10 ¶`MountProject -pp -s -r¶` -d "¶`Project -q¶`" ¶#		 -m "Select a new current project:" -q`") · dev:null'# 	AddMenu tools "(-" ""#	AddMenu tools 'Compare ActiveÉ' 'CompareRevisions "{Active}" ·· "{WorkSheet}"'#	AddMenu tools 'Merge ActiveÉ' 'MergeBranch "{Active}" ·· "{WorkSheet}"'#- slut ------------------------------------------------------------------Alias m6		'm -NoNeedsSystem7'#Alias md		'm -Debug -UnInit -cplusplus "-d DV=virtual"'Alias md		'm -Debug -UnInit'Alias mf		'm -d qFinal=TRUE'Alias b			'save -a;bge m'  # need save -a due to makeAlias bd		'save -a;bge md'#Alias noCardRoots "s -s card-root Å.r | count -l"#Alias m3 'choose -u "Quadra 3" "*:Quadra 3:Quadra3"'#Alias m5 'choose -u "Quadra 5" "*:Quadra 5:Quadra5"'#Alias nn 'md  && cc 3 && {MADone}'#Alias mm 'msd && cc 3 && {MADone}'#setkey f9 'dumpec < {df2}ny:easy.mac | tr_dos2mac > {tmp4}; otmp4'set cps_inited 1 ; export cps_inited